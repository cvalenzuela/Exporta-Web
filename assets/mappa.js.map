{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9662585225d80babb13d","webpack:///./src/providers/static/StaticMap.js","webpack:///./src/providers/tile/Leaflet.js","webpack:///./src/providers/tile/TileMap.js","webpack:///./src/utils/parseGeoJSON.js","webpack:///./src/staticMap.js","webpack:///./src/tileMap.js","webpack:///./src/index.js","webpack:///./src/providers/static/Google.js","webpack:///./src/providers/static/Mapbox.js","webpack:///./src/providers/static/Mapquest.js","webpack:///./src/providers/tile/Google.js","webpack:///./src/providers/tile/Mapbox.js","webpack:///./src/providers/tile/Mapboxgl.js","webpack:///./src/providers/tile/Mapzen.js","webpack:///./src/providers/tile/Tangram.js"],"names":["StaticMap","options","init","pixels","scale","lat","lng","x","fromLngToPoint","width","y","fromLatToPoint","height","l","Math","PI","pow","zoom","log","tan","Leaflet","script","style","constructor","name","map","L","center","inertia","messages","tiles","ready","tileLayer","addTo","on","canvasOverlay","opacity","overlay","Layer","extend","onAdd","overlayPane","getPane","_container","DomUtil","create","appendChild","canvas","drawLayer","addLayer","_canvas","getContext","d","dragging","_draggable","_newPos","transform","position","containerPoint","latLngToContainerPoint","args","containerPointToLatLng","getZoom","callback","setTimeout","onChange","off","console","warn","TileMap","scriptTag","document","getElementById","provider","createElement","type","src","id","head","styleTag","rel","href","onload","div","body","setAttribute","elt","undefined","createMap","pos","Number","fromLatLngtoPixel","fromPointToLatLng","floor","parseGeoJSON","data","result","features","Array","forEach","feature","f","eachFeature","push","hasOwnProperty","geometry","coordinates","geometries","tileMap","staticMap","Mappa","key","Object","assign","_options","userInput","el","i","option","module","exports","Google","imgUrl","createImage","size","valid","indexOf","s","m","Mapbox","username","auto","e","attribution","logo","before_layer","error","Mapquest","language","region","onChangeMetods","google","maps","Map","mapTypeId","maptype","styles","minZoom","OverlayView","getPanes","overlayLayer","draw","setMap","event","addListener","getProjection","fromLatLngToDivPixel","getCenter","window","devicePixelRatio","offsetX","round","offsetY","addListenerOnce","LatLng","topRight","fromLatLngToPoint","getBounds","getNorthEast","bottomLeft","getSouthWest","point","Point","latlng","removeListener","mapbox","accessToken","setView","studio","styleLayer","Mapboxgl","mapboxgl","container","maxZoom","bearing","pitch","renderWorldCopies","maxBounds","getCanvasContainer","getElementsByClassName","latLng","project","unproject","Mapzen","apiKey","tangramOptions","scene","BasemapStyles","Tangram","tangramScene","leafletLayer","subscribe","load"],"mappings":"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","file":"mappa.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9662585225d80babb13d","// -----------\n// Static Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass StaticMap  {\n  constructor(options){\n    this.options = options;\n    this.init();\n  }\n\n  init(){\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } \n  }\n\n  latLngToPixel(lat, lng) {\n    return {\n      x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width/(2 / this.options.scale),\n      y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height/(2 / this.options.scale)\n    }\n  };\n\n  fromLatToPoint(l){\n    return (((this.options.pixels) / Math.PI) * Math.pow(2, this.options.zoom)) * (Math.PI - Math.log(Math.tan(Math.PI / 4 + (l* Math.PI / 180) / 2)));\n  }\n\n  fromLngToPoint(l){\n    return (((this.options.pixels) / Math.PI) * Math.pow(2, this.options.zoom)) * ((l* Math.PI / 180) + Math.PI);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n}\n\nexport { StaticMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/StaticMap.js","// ----------- \n// Leaflet v1.0.3 \n// Reference: http://leafletjs.com/reference-1.0.3.html \n//-----------\n\nimport { TileMap } from './TileMap';\n\nclass Leaflet extends TileMap {\n  constructor(options) {\n    super(options);\n    this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    this.constructor.name == 'Leaflet' && this.init();\n  }\n\n  createMap() {\n    this.map = L.map('mappa', {\n      center: [\n        this.options.lat, this.options.lng\n      ],\n      zoom: this.options.zoom,\n      inertia: false\n    });\n\n    if (!this.options.style) {\n      Leaflet.messages().tiles();\n      this.ready = true;\n    } else {\n      this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n      this.tiles.on('tileload', () => {\n        this.ready = true;\n      });\n    }\n    this.canvasOverlay();\n  }\n\n  canvasOverlay() {\n    if (this.tiles) {\n      this.tiles.options.opacity = this.options.opacity;\n    }\n\n    L.overlay = L.Layer.extend({\n      onAdd: () => {\n        let overlayPane = overlay.getPane();\n        let _container = L.DomUtil.create('div', 'leaflet-layer');\n        _container.appendChild(this.canvas);\n        overlayPane.appendChild(_container);\n      },\n      drawLayer: () => {}\n    })\n\n    let overlay = new L.overlay();\n    this.map.addLayer(overlay);\n\n    let _canvas = this.canvas.getContext('webgl') || this.canvas.getContext('2d');\n\n    this.map.on('move', () => {\n      var d = this.map.dragging._draggable;\n      d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n    })\n  }\n\n  fromLatLngtoPixel(position) {\n    if (this.ready) {\n      let containerPoint = this.map.latLngToContainerPoint(position);\n      return { x: containerPoint.x, y: containerPoint.y };\n    } else {\n      return { x: -100, y: -100 };\n    }\n  }\n\n  fromPointToLatLng(...args) {\n    if (this.ready) {\n      return this.map.containerPointToLatLng(args);\n    } else {\n      return { lat: -100, lng: -100 };\n    }\n  }\n\n  getZoom() {\n    if (this.ready) {\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if (this.ready) {\n      callback();\n      this.map.on('move', callback);\n    } else {\n      setTimeout(() => {\n        this.onChange(callback);\n      }, 200);\n    }\n  }\n\n  removeOnChange(callback){\n    this.map.off('move', callback);\n  }\n\n  static messages() {\n    return {\n      tiles: () => {\n        console.warn('You are not using any tiles for your map. Try with: http://{s}.tile.osm.org/{z}/' +\n          '{x}/{y}.png')\n      }\n    }\n  }\n}\n\nexport { Leaflet };\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Leaflet.js","// -----------\n// Tiled Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass TileMap {\n  constructor(options){\n    this.options = options;\n    this.scriptTag;\n  }\n\n  init() {\n    if(!document.getElementById(this.options.provider)) {\n      this.scriptTag = document.createElement('script');\n      this.scriptTag.type = 'text/javascript';\n      this.scriptTag.src = this.script;\n      this.scriptTag.id = this.options.provider;\n      document.head.appendChild(this.scriptTag);\n      if(this.style) {\n        let styleTag = document.createElement('link');\n        styleTag.rel = 'stylesheet';\n        styleTag.href = this.style;\n        document.head.appendChild(styleTag);\n      }\n    }\n  }\n\n  overlay(canvas, callback){\n    this.scriptTag.onload = () => {\n      let div = document.createElement('div');\n      document.body.appendChild(div);\n      div.setAttribute('style', 'position:relative;width:'+ canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:10');\n      div.setAttribute('id', 'mappa');\n      canvas.elt != undefined ? this.canvas = canvas.elt : this.canvas = canvas;\n      this.createMap();\n      callback && callback();\n    };\n  }\n\n  latLngToPixel(...args){\n    let pos;\n    (typeof args[0] == 'object') ? pos = args[0] : pos = {lat: Number(args[0]), lng: Number(args[1])};\n    return this.fromLatLngtoPixel(pos);\n  }\n\n  pixelToLatLng(...args){\n    return this.fromPointToLatLng(...args);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n  zoom(){\n    return Math.floor(this.getZoom());\n  }\n\n}\n\nexport { TileMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/TileMap.js","// -----------\n// Parse a GeoJSON file.\n// -----------\n\nlet parseGeoJSON = (data, type) => {\n  let result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function(feature) {\n        let f = eachFeature(feature, type);\n        (f != undefined) && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n}\n\nlet eachFeature = (feature, type) => {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach((geometry) => {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n}\n\nexport { parseGeoJSON };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parseGeoJSON.js","// -----------\n// Static Map Providers\n// -----------\n\nexport * from './providers/static/Mapbox';\nexport * from './providers/static/Google';\nexport * from './providers/static/Mapquest';\nexport * from './providers/static/StaticMap';\n\n\n\n// WEBPACK FOOTER //\n// ./src/staticMap.js","// -----------\n// Tile Map Providers\n// -----------\n\nexport * from './providers/tile/Mapboxgl';\nexport * from './providers/tile/Google';\nexport * from './providers/tile/Leaflet';\nexport * from './providers/tile/Mapbox';\nexport * from './providers/tile/Mapzen';\nexport * from './providers/tile/Tangram';\n\n\n\n// WEBPACK FOOTER //\n// ./src/tileMap.js","/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/mappa\n*\n* Cristóbal Valenzuela\n* cv965@nyu.edu\n* Google Summer of Code 2017\n*/\n\n'use strict';\n\nconsole.log('%c p5.maps Loaded ✓', 'color:white; background:green;');\n\nimport * as tileMap from './tileMap';\nimport * as staticMap from './staticMap'\n\nclass Mappa {\n  constructor(provider, key) {\n    this.provider = provider;\n    this.key = key;\n  }\n\n  staticMap(...args) {\n    let options = {};\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      let _options = staticMap[this.provider].options().userInput\n      args.forEach((el, i) => {\n        let option = _options[i];\n        options[option] = el;\n      })\n    };\n    options.key = this.key;\n    this.provider == undefined && (this.provider = 'StaticMap');\n    return new staticMap[this.provider](options);\n  }\n\n  tileMap(...args){\n    let options = {};\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      ['lat', 'lng', 'zoom'].forEach((el, i) => {\n        options[el] = args[i];\n      })\n    };\n    options.key = this.key;\n    options.provider = this.provider;\n    return new tileMap[this.provider](options);\n  }\n\n}\n\nmodule.exports = Mappa;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Google extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 640){\n      Google.messages().size('width', this.options.width);\n      this.options.width = 640;\n    }\n    if (this.options.height > 640){\n      Google.messages().size('height', this.options.height);\n      this.options.height = 640;\n    }\n  }\n\n  createImage() {\n    !this.options.key && (delete this.options.key && (Google.messages().key()));\n\n    this.options.size = this.options.width + 'x' + this.options.height;\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n    !this.options.scale && (this.options.scale = 1);\n\n    for(let option in this.options){\n      (Google.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options(){\n    return {\n      valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => {console.warn(`You requested an image with a ${s} of ${m}px. Google Maps Static API max ${s} value is 640px. For larger images, change the scale to 2 and keep the ${s} between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.`)},\n      key: () => {console.warn('For large requests please provide an API key for your Google Maps Static API.')},\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Google.js","// -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapbox extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://api.mapbox.com/styles/v1/';\n    this.createImage();\n  }\n\n  init() {\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } else{\n      if (this.options.width > 1280){\n        Mapbox.messages().size('width', this.options.width);\n        this.options.width = 1280;\n      }\n      if (this.options.height > 1280){\n        Mapbox.messages().size('height', this.options.width);\n        this.options.height = 1280;\n      }\n    }\n  };\n\n  createImage() {\n    if (!this.options.key){\n      Mapbox.messages().key();\n      return;\n    }\n    (this.options.username != undefined) ? this.imgUrl += this.options.username + '/': this.imgUrl += 'mapbox/';\n    (this.options.style != undefined) ? this.imgUrl += this.options.style + '/': this.imgUrl += 'streets-v10/';\n    this.imgUrl += 'static/';\n    (this.options.overlay != undefined) && (this.imgUrl += this.options.overlay + '/');\n    this.imgUrl += this.options.lng + ',' + this.options.lat + ',';\n    (this.options.auto == false || this.options.auto == undefined) ?\n    ['zoom', 'bearing', 'pitch'].forEach((e,i) => {\n      (this.options[e] != undefined) ? this.imgUrl += this.options[e] : this.imgUrl += 0;\n      i < 2 && (this.imgUrl += ',');\n    }) : this.imgUrl += 'auto';\n    this.imgUrl += '/' + this.options.width + 'x' + this.options.height;\n    (this.options.scale == 2) && (this.imgUrl += '@2x');\n    this.imgUrl += '?access_token=' + this.options.key;\n    (this.options.attribution) ? this.imgUrl += '&attribution=' + this.options.attribution : this.imgUrl += '&attribution=false';\n    (this.options.logo) ? this.imgUrl += '&logo=' + this.options.logo : this.imgUrl += '&logo=false';\n    (this.options.before_layer) ? this.imgUrl += '&before_layer=' + this.options.before_layer : this.imgUrl += '&before_layer=false';\n    return this.imgUrl\n  };\n\n  static options(){\n    return {\n      valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => console.warn(`You requested an image with a ${s} of ${m}px. Mapbox Static API max ${s} value is 1280px. If you want a large image change the scale to 2.`),\n      key: () => {console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static')},\n    }\n  }\n}\n\nexport { Mapbox }\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapbox.js","// -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapquest extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 1920){\n      Mapquest.messages().size('width', this.options.width);\n      this.options.width = 1920;\n    }\n    if (this.options.height > 1920){\n      Mapquest.messages().size('height', this.options.height);\n      this.options.height = 1920;\n    }\n  }\n\n  createImage() {\n    if(!this.options.key){\n      Mapquest.messages().key();\n      return\n    }\n\n    this.options.size = this.options.width + ',' + this.options.height;\n    this.options.scale == 2 && (this.options.size += '@2x');\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n    for(let option in this.options){\n      (Mapquest.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options () {\n    return {\n      valid: ['key', 'size','zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s,m) => {console.warn(`You requested an image with a ${s} of ${m}px. Mapquest Static API max ${s} value is 1920px. For larger images, change the scale to 2 and keep the ${s} between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.`)},\n      key: () => {console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/')}\n    }\n  }\n}\n\nexport { Mapquest };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapquest.js","// -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Google extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://maps.googleapis.com/maps/api/js';\n    this.options.key && (this.script += '?key=' + this.options.key);\n    this.options.language && (this.script += '&language=' + this.options.language);\n    this.options.region && (this.script += '&region=' + this.options.region);\n    this.onChangeMetods = {};\n    this.init();\n  }\n\n  createMap () {\n    !this.options.key && Google.messages().key();\n\n    this.map = new google.maps.Map(document.getElementById('mappa'), {\n      center: {lat: this.options.lat, lng: this.options.lng},\n      zoom: this.options.zoom || 6,\n      mapTypeId: this.options.maptype || 'terrain',\n      styles: this.options.styles || '',\n      minZoom: 1 || this.options.minZoom\n    });\n\n    let overlay = new google.maps.OverlayView();\n    overlay.onAdd = () => {\n      overlay.getPanes().overlayLayer.appendChild(this.canvas);\n    }\n    overlay.draw = function(){}\n    overlay.setMap(this.map);\n\n    google.maps.event.addListener(this.map, 'bounds_changed', () => {\n      let center = overlay.getProjection().fromLatLngToDivPixel(this.map.getCenter());\n      let pixels;\n      (window.devicePixelRatio >= 2) ? pixels = 4 : pixels = 2;\n      let offsetX = - Math.round(this.canvas.width / pixels - center.x);\n      let offsetY = - Math.round(this.canvas.height / pixels - center.y);\n      let _canvas = this.canvas.getContext('webgl') || this.canvas.getContext('2d');\n      _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n    })\n\n    google.maps.event.addListenerOnce(this.map, 'tilesloaded', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      position = new google.maps.LatLng(position)\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = this.map.getProjection().fromLatLngToPoint(position);\n      return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = new google.maps.Point(args[0] / scale + bottomLeft.x, args[1] / scale + topRight.y);\n      let latlng = this.map.getProjection().fromPointToLatLng(point);\n      return {lat: latlng.lat(), lng: latlng.lng()};\n    } else {\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.onChangeMetods[callback] = google.maps.event.addListener(this.map, 'bounds_changed', callback);\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  removeOnChange(callback){\n    google.maps.event.removeListener(this.onChangeMetods[callback]);\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ')}\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Google.js","// -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapbox extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.mapbox.accessToken = this.options.key\n    } else {\n      Mapbox.messages().key();\n      return\n    }\n\n    // Create a Mapbox Map\n    this.map = L.mapbox.map('mappa').setView(\n      [this.options.lat, this.options.lng], this.options.zoom\n    );\n\n    (this.options.studio)? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n    this.tiles.on('ready', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1')}\n    }\n  }\n}\n\nexport { Mapbox };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapbox.js","// -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nimport { TileMap } from './TileMap'\n\nclass Mapboxgl extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    (!this.options.key) ? Mapboxgl.messages().key() : this.init();\n  }\n\n  createMap () {\n    mapboxgl.accessToken = this.options.key;\n    this.map = new mapboxgl.Map({\n      container: 'mappa',\n      style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n      center: [this.options.lng, this.options.lat],\n      zoom: this.options.zoom,\n      minZoom: this.options.minZoom || 0,\n      maxZoom: this.options.maxZoom || 22,\n      bearing: this.options.bearing || 0,\n      pitch: this.options.pitch || 0,\n      renderWorldCopies: true && this.options.renderWorldCopies,\n      maxBounds: this.options.maxBounds || undefined\n    });\n\n    this.map.getCanvasContainer().appendChild(this.canvas)\n    this.canvas.style.position = 'relative';\n    this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n    this.map.on('load', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(latLng){\n    if(this.ready){\n      return this.map.project(latLng);\n    } else {\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.unproject(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom () {\n    if(this.ready){\n      return this.map.getZoom();\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('render', callback);\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  removeOnChange(callback){\n    this.map.off('render', callback);\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/')}\n    }\n  }\n\n}\n\nexport { Mapboxgl };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapboxgl.js","// -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapzen extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://mapzen.com/js/mapzen.min.js';\n    this.style = 'https://mapzen.com/js/mapzen.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.Mapzen.apiKey = this.options.key;\n    } else {\n      Mapzen.messages().key();\n      return\n    }\n\n    // Create a Mapzen Map\n    this.map = L.Mapzen.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      tangramOptions: {\n        scene: (this.options.BasemapStyles) ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene,\n      }\n    });\n    this.map.on('tangramloaded', () =>{ this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Mapzen };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapzen.js","// -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Tangram extends Leaflet {\n  constructor(options){\n    super(options);\n    this.options.provider = 'Leaflet';\n    this.init();\n    this.options.provider = 'Tangram';\n    this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    this.init();\n  }\n\n  createMap () {\n    // Create a Tangram Map\n    this.map = L.map('mappa');\n    this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n    });\n    this.tangramScene.addTo(this.map);\n    this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n    this.tangramScene.scene.subscribe({ load: () => { this.ready = true }});\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Tangram };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Tangram.js"],"sourceRoot":""}